{%- comment -%}
Projects grid for revamped CV page.
Supports legacy `data` pair (data[1]) or include.items.
{%- endcomment -%}
{%- assign items = include.items | default: data[1] -%}
{%- if items and items != empty -%}
<div class="cv-projects-grid">
  {%- for content in items -%}
    <article class="cv-project-card">
      <div class="cv-project-header">
        <h3 class="cv-project-title">
          {%- if content.url -%}
            <a href="{{ content.url }}" target="_blank" rel="noopener">{{ content.name }}</a>
          {%- else -%}
            {{ content.name }}
          {%- endif -%}
        </h3>
        {%- if content.startDate or content.endDate -%}
          {%- assign startDate = content.startDate | date: "%b %Y" -%}
          {%- assign endRaw = content.endDate | default: 'Present' -%}
          {%- if endRaw == 'Present' -%}
            {%- assign endDate = 'Present' -%}
          {%- else -%}
            {%- assign endDate = endRaw | date: "%b %Y" -%}
          {%- endif -%}
          <div class="cv-project-meta">{{ startDate }} â€“ {{ endDate }}</div>
        {%- endif -%}
      </div>
      {%- if content.summary -%}
        <div class="cv-project-summary">{{ content.summary }}</div>
      {%- endif -%}
      {%- if content.highlights and content.highlights.size > 0 -%}
        <ul class="cv-item-details" style="display:block; margin-top:0.5rem;">
          {%- for item in content.highlights -%}
            <li>{{ item }}</li>
          {%- endfor -%}
        </ul>
      {%- endif -%}
      {%- if content.keywords and content.keywords.size > 0 -%}
        <div class="cv-project-tags">
          {%- for tag in content.keywords -%}
            <span class="cv-tag">{{ tag }}</span>
          {%- endfor -%}
        </div>
      {%- endif -%}
    </article>
  {%- endfor -%}
</div>
{%- endif -%}
