{%- comment -%}
Education list for revamped CV page.
Supports two inputs:
- legacy: variable `data` where data[1] is the array of educations
- preferred: include.items is the array
{%- endcomment -%}
{%- assign items = include.items | default: data[1] -%}
{%- if items and items != empty -%}
  {%- assign items = items | sort: 'startDate' | reverse -%}
{%- endif -%}

{%- if items and items != empty -%}
<ul class="cv-list">
  {%- for content in items -%}
    {%- assign startDate = content.startDate | date: "%B %Y" -%}
    {%- assign endRaw = content.endDate | default: 'Present' -%}
    {%- if endRaw == 'Present' -%}
      {%- assign endDate = 'Present' -%}
    {%- else -%}
      {%- assign endDate = endRaw | date: "%B %Y" -%}
    {%- endif -%}
    <li class="cv-item">
      <div class="cv-row">
        <div class="cv-title">
          <span class="cv-entity">{{ content.institution | strip_html }}</span>
          {%- if content.studyType -%}
            <span class="cv-pill">{{ content.studyType | strip_html }}</span>
          {%- endif -%}
        </div>
        <div class="cv-date">{{ startDate }} â€“ {{ endDate }}</div>
      </div>
      {%- if content.area -%}
        <div class="cv-subtitle">{{ content.area | strip_html }}</div>
      {%- endif -%}
    </li>
  {%- endfor -%}
</ul>
{%- endif -%}
